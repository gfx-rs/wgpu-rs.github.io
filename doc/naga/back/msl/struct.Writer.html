<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `Writer` struct in crate `naga`."><title>Writer in naga::back::msl - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-1a91846b.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="naga" data-themes="" data-resource-suffix="" data-rustdoc-version="1.88.0 (6b00bc388 2025-06-23)" data-channel="1.88.0" data-search-js="search-f7877310.js" data-settings-js="settings-5514c975.js" ><script src="../../../static.files/storage-4e99c027.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-7ef8a74a.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../naga/index.html">naga</a><span class="version">27.0.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Writer</a></h2><h3><a href="#fields">Fields</a></h3><ul class="block structfield"><li><a href="#structfield.named_expressions" title="named_expressions">named_expressions</a></li><li><a href="#structfield.namer" title="namer">namer</a></li><li><a href="#structfield.names" title="names">names</a></li><li><a href="#structfield.need_bake_expressions" title="need_bake_expressions">need_bake_expressions</a></li><li><a href="#structfield.out" title="out">out</a></li><li><a href="#structfield.struct_member_pads" title="struct_member_pads">struct_member_pads</a></li><li><a href="#structfield.wrapped_functions" title="wrapped_functions">wrapped_functions</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.finish" title="finish">finish</a></li><li><a href="#method.gen_force_bounded_loop_statements" title="gen_force_bounded_loop_statements">gen_force_bounded_loop_statements</a></li><li><a href="#method.need_workgroup_variables_initialization" title="need_workgroup_variables_initialization">need_workgroup_variables_initialization</a></li><li><a href="#method.new" title="new">new</a></li><li><a href="#method.put_access_chain" title="put_access_chain">put_access_chain</a></li><li><a href="#method.put_binop" title="put_binop">put_binop</a></li><li><a href="#method.put_bitcasted_expression" title="put_bitcasted_expression">put_bitcasted_expression</a></li><li><a href="#method.put_block" title="put_block">put_block</a></li><li><a href="#method.put_bounds_checks" title="put_bounds_checks">put_bounds_checks</a></li><li><a href="#method.put_cache_restricted_level" title="put_cache_restricted_level">put_cache_restricted_level</a></li><li><a href="#method.put_call_parameters" title="put_call_parameters">put_call_parameters</a></li><li><a href="#method.put_call_parameters_impl" title="put_call_parameters_impl">put_call_parameters_impl</a></li><li><a href="#method.put_cast_to_uint_scalar_or_vector" title="put_cast_to_uint_scalar_or_vector">put_cast_to_uint_scalar_or_vector</a></li><li><a href="#method.put_casting_to_packed_chars" title="put_casting_to_packed_chars">put_casting_to_packed_chars</a></li><li><a href="#method.put_const_expression" title="put_const_expression">put_const_expression</a></li><li><a href="#method.put_default_constructible" title="put_default_constructible">put_default_constructible</a></li><li><a href="#method.put_dot_product" title="put_dot_product">put_dot_product</a></li><li><a href="#method.put_dynamic_array_max_index" title="put_dynamic_array_max_index">put_dynamic_array_max_index</a></li><li><a href="#method.put_expression" title="put_expression">put_expression</a></li><li><a href="#method.put_image_access_bounds_check" title="put_image_access_bounds_check">put_image_access_bounds_check</a></li><li><a href="#method.put_image_atomic" title="put_image_atomic">put_image_atomic</a></li><li><a href="#method.put_image_coordinate_limits" title="put_image_coordinate_limits">put_image_coordinate_limits</a></li><li><a href="#method.put_image_load" title="put_image_load">put_image_load</a></li><li><a href="#method.put_image_query" title="put_image_query">put_image_query</a></li><li><a href="#method.put_image_sample_level" title="put_image_sample_level">put_image_sample_level</a></li><li><a href="#method.put_image_size_query" title="put_image_size_query">put_image_size_query</a></li><li><a href="#method.put_image_store" title="put_image_store">put_image_store</a></li><li><a href="#method.put_index" title="put_index">put_index</a></li><li><a href="#method.put_inline_sampler_properties" title="put_inline_sampler_properties">put_inline_sampler_properties</a></li><li><a href="#method.put_isign" title="put_isign">put_isign</a></li><li><a href="#method.put_level_of_detail" title="put_level_of_detail">put_level_of_detail</a></li><li><a href="#method.put_literal" title="put_literal">put_literal</a></li><li><a href="#method.put_load" title="put_load">put_load</a></li><li><a href="#method.put_locals" title="put_locals">put_locals</a></li><li><a href="#method.put_pack4x8" title="put_pack4x8">put_pack4x8</a></li><li><a href="#method.put_possibly_const_expression" title="put_possibly_const_expression">put_possibly_const_expression</a></li><li><a href="#method.put_ray_query_type" title="put_ray_query_type">put_ray_query_type</a></li><li><a href="#method.put_restricted_scalar_image_index" title="put_restricted_scalar_image_index">put_restricted_scalar_image_index</a></li><li><a href="#method.put_restricted_texel_address" title="put_restricted_texel_address">put_restricted_texel_address</a></li><li><a href="#method.put_return_value" title="put_return_value">put_return_value</a></li><li><a href="#method.put_store" title="put_store">put_store</a></li><li><a href="#method.put_subscripted_access_chain" title="put_subscripted_access_chain">put_subscripted_access_chain</a></li><li><a href="#method.put_unchecked_image_load" title="put_unchecked_image_load">put_unchecked_image_load</a></li><li><a href="#method.put_unchecked_load" title="put_unchecked_load">put_unchecked_load</a></li><li><a href="#method.put_unchecked_store" title="put_unchecked_store">put_unchecked_store</a></li><li><a href="#method.put_wrapped_expression_for_packed_vec3_access" title="put_wrapped_expression_for_packed_vec3_access">put_wrapped_expression_for_packed_vec3_access</a></li><li><a href="#method.start_baking_expression" title="start_baking_expression">start_baking_expression</a></li><li><a href="#method.update_expressions_to_bake" title="update_expressions_to_bake">update_expressions_to_bake</a></li><li><a href="#method.write" title="write">write</a></li><li><a href="#method.write_barrier" title="write_barrier">write_barrier</a></li><li><a href="#method.write_convert_yuv_to_rgb_and_return" title="write_convert_yuv_to_rgb_and_return">write_convert_yuv_to_rgb_and_return</a></li><li><a href="#method.write_functions" title="write_functions">write_functions</a></li><li><a href="#method.write_global_constants" title="write_global_constants">write_global_constants</a></li><li><a href="#method.write_type_defs" title="write_type_defs">write_type_defs</a></li><li><a href="#method.write_unpacking_function" title="write_unpacking_function">write_unpacking_function</a></li><li><a href="#method.write_workgroup_variable_initialization" title="write_workgroup_variable_initialization">write_workgroup_variable_initialization</a></li><li><a href="#method.write_workgroup_variables_initialization" title="write_workgroup_variables_initialization">write_workgroup_variables_initialization</a></li><li><a href="#method.write_wrapped_binary_op" title="write_wrapped_binary_op">write_wrapped_binary_op</a></li><li><a href="#method.write_wrapped_cast" title="write_wrapped_cast">write_wrapped_cast</a></li><li><a href="#method.write_wrapped_functions" title="write_wrapped_functions">write_wrapped_functions</a></li><li><a href="#method.write_wrapped_image_load" title="write_wrapped_image_load">write_wrapped_image_load</a></li><li><a href="#method.write_wrapped_image_query" title="write_wrapped_image_query">write_wrapped_image_query</a></li><li><a href="#method.write_wrapped_image_sample" title="write_wrapped_image_sample">write_wrapped_image_sample</a></li><li><a href="#method.write_wrapped_math_function" title="write_wrapped_math_function">write_wrapped_math_function</a></li><li><a href="#method.write_wrapped_unary_op" title="write_wrapped_unary_op">write_wrapped_unary_op</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-Freeze-for-Writer%3CW%3E" title="Freeze">Freeze</a></li><li><a href="#impl-RefUnwindSafe-for-Writer%3CW%3E" title="RefUnwindSafe">RefUnwindSafe</a></li><li><a href="#impl-Send-for-Writer%3CW%3E" title="Send">Send</a></li><li><a href="#impl-Sync-for-Writer%3CW%3E" title="Sync">Sync</a></li><li><a href="#impl-Unpin-for-Writer%3CW%3E" title="Unpin">Unpin</a></li><li><a href="#impl-UnwindSafe-for-Writer%3CW%3E" title="UnwindSafe">UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T" title="Any">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T" title="Borrow&#60;T&#62;">Borrow&#60;T&#62;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T" title="BorrowMut&#60;T&#62;">BorrowMut&#60;T&#62;</a></li><li><a href="#impl-From%3CT%3E-for-T" title="From&#60;T&#62;">From&#60;T&#62;</a></li><li><a href="#impl-Into%3CU%3E-for-T" title="Into&#60;U&#62;">Into&#60;U&#62;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T" title="TryFrom&#60;U&#62;">TryFrom&#60;U&#62;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T" title="TryInto&#60;U&#62;">TryInto&#60;U&#62;</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In naga::<wbr>back::<wbr>msl</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">naga</a>::<wbr><a href="../index.html">back</a>::<wbr><a href="index.html">msl</a></div><h1>Struct <span class="struct">Writer</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/naga/back/msl/writer.rs.html#473-488">Source</a> </span></div><pre class="rust item-decl"><code>pub struct Writer&lt;W&gt; {
    out: W,
    names: <a class="type" href="../../type.FastHashMap.html" title="type naga::FastHashMap">FastHashMap</a>&lt;<a class="enum" href="../../proc/enum.NameKey.html" title="enum naga::proc::NameKey">NameKey</a>, <a class="struct" href="https://doc.rust-lang.org/1.88.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;,
    named_expressions: <a class="type" href="../../type.FastIndexMap.html" title="type naga::FastIndexMap">FastIndexMap</a>&lt;<a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/1.88.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;,
    need_bake_expressions: <a class="type" href="../type.NeedBakeExpressions.html" title="type naga::back::NeedBakeExpressions">NeedBakeExpressions</a>,
    namer: <a class="struct" href="../../proc/struct.Namer.html" title="struct naga::proc::Namer">Namer</a>,
    wrapped_functions: <a class="type" href="../../type.FastHashSet.html" title="type naga::FastHashSet">FastHashSet</a>&lt;<a class="enum" href="writer/enum.WrappedFunction.html" title="enum naga::back::msl::writer::WrappedFunction">WrappedFunction</a>&gt;,
    struct_member_pads: <a class="type" href="../../type.FastHashSet.html" title="type naga::FastHashSet">FastHashSet</a>&lt;(<a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="struct" href="../../ir/struct.Type.html" title="struct naga::ir::Type">Type</a>&gt;, <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.u32.html">u32</a>)&gt;,
}</code></pre><h2 id="fields" class="fields section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.out" class="structfield section-header"><a href="#structfield.out" class="anchor field">§</a><code>out: W</code></span><span id="structfield.names" class="structfield section-header"><a href="#structfield.names" class="anchor field">§</a><code>names: <a class="type" href="../../type.FastHashMap.html" title="type naga::FastHashMap">FastHashMap</a>&lt;<a class="enum" href="../../proc/enum.NameKey.html" title="enum naga::proc::NameKey">NameKey</a>, <a class="struct" href="https://doc.rust-lang.org/1.88.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;</code></span><span id="structfield.named_expressions" class="structfield section-header"><a href="#structfield.named_expressions" class="anchor field">§</a><code>named_expressions: <a class="type" href="../../type.FastIndexMap.html" title="type naga::FastIndexMap">FastIndexMap</a>&lt;<a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/1.88.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;</code></span><span id="structfield.need_bake_expressions" class="structfield section-header"><a href="#structfield.need_bake_expressions" class="anchor field">§</a><code>need_bake_expressions: <a class="type" href="../type.NeedBakeExpressions.html" title="type naga::back::NeedBakeExpressions">NeedBakeExpressions</a></code></span><div class="docblock"><p>Set of expressions that need to be baked to avoid unnecessary repetition in output</p>
</div><span id="structfield.namer" class="structfield section-header"><a href="#structfield.namer" class="anchor field">§</a><code>namer: <a class="struct" href="../../proc/struct.Namer.html" title="struct naga::proc::Namer">Namer</a></code></span><span id="structfield.wrapped_functions" class="structfield section-header"><a href="#structfield.wrapped_functions" class="anchor field">§</a><code>wrapped_functions: <a class="type" href="../../type.FastHashSet.html" title="type naga::FastHashSet">FastHashSet</a>&lt;<a class="enum" href="writer/enum.WrappedFunction.html" title="enum naga::back::msl::writer::WrappedFunction">WrappedFunction</a>&gt;</code></span><span id="structfield.struct_member_pads" class="structfield section-header"><a href="#structfield.struct_member_pads" class="anchor field">§</a><code>struct_member_pads: <a class="type" href="../../type.FastHashSet.html" title="type naga::FastHashSet">FastHashSet</a>&lt;(<a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="struct" href="../../ir/struct.Type.html" title="struct naga::ir::Type">Type</a>&gt;, <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.u32.html">u32</a>)&gt;</code></span><div class="docblock"><p>Set of (struct type, struct field index) denoting which fields require
padding inserted <strong>before</strong> them (i.e. between fields at index - 1 and index)</p>
</div><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Writer%3CW%3E" class="impl"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#7683-7806">Source</a><a href="#impl-Writer%3CW%3E" class="anchor">§</a><h3 class="code-header">impl&lt;W: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/fmt/trait.Write.html" title="trait core::fmt::Write">Write</a>&gt; <a class="struct" href="struct.Writer.html" title="struct naga::back::msl::Writer">Writer</a>&lt;W&gt;</h3></section></summary><div class="impl-items"><section id="method.need_workgroup_variables_initialization" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#7684-7696">Source</a><h4 class="code-header">pub(super) fn <a href="#method.need_workgroup_variables_initialization" class="fn">need_workgroup_variables_initialization</a>(
    &amp;mut self,
    options: &amp;<a class="struct" href="struct.Options.html" title="struct naga::back::msl::Options">Options</a>,
    ep: &amp;<a class="struct" href="../../ir/struct.EntryPoint.html" title="struct naga::ir::EntryPoint">EntryPoint</a>,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    fun_info: &amp;<a class="struct" href="../../valid/struct.FunctionInfo.html" title="struct naga::valid::FunctionInfo">FunctionInfo</a>,
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a></h4></section><section id="method.write_workgroup_variables_initialization" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#7698-7738">Source</a><h4 class="code-header">pub(super) fn <a href="#method.write_workgroup_variables_initialization" class="fn">write_workgroup_variables_initialization</a>(
    &amp;mut self,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    module_info: &amp;<a class="struct" href="../../valid/struct.ModuleInfo.html" title="struct naga::valid::ModuleInfo">ModuleInfo</a>,
    fun_info: &amp;<a class="struct" href="../../valid/struct.FunctionInfo.html" title="struct naga::valid::FunctionInfo">FunctionInfo</a>,
    local_invocation_id: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="enum" href="../../proc/enum.NameKey.html" title="enum naga::proc::NameKey">NameKey</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.write_workgroup_variable_initialization" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#7740-7805">Source</a><h4 class="code-header">fn <a href="#method.write_workgroup_variable_initialization" class="fn">write_workgroup_variable_initialization</a>(
    &amp;mut self,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    module_info: &amp;<a class="struct" href="../../valid/struct.ModuleInfo.html" title="struct naga::valid::ModuleInfo">ModuleInfo</a>,
    ty: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="struct" href="../../ir/struct.Type.html" title="struct naga::ir::Type">Type</a>&gt;,
    access_stack: &amp;mut <a class="struct" href="writer/workgroup_mem_init/struct.AccessStack.html" title="struct naga::back::msl::writer::workgroup_mem_init::AccessStack">AccessStack</a>,
    level: <a class="struct" href="../struct.Level.html" title="struct naga::back::Level">Level</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Writer%3CW%3E-1" class="impl"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#815-7608">Source</a><a href="#impl-Writer%3CW%3E-1" class="anchor">§</a><h3 class="code-header">impl&lt;W: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/fmt/trait.Write.html" title="trait core::fmt::Write">Write</a>&gt; <a class="struct" href="struct.Writer.html" title="struct naga::back::msl::Writer">Writer</a>&lt;W&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#817-831">Source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>(out: W) -&gt; Self</h4></section></summary><div class="docblock"><p>Creates a new <code>Writer</code> instance.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.finish" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#836-838">Source</a><h4 class="code-header">pub fn <a href="#method.finish" class="fn">finish</a>(self) -&gt; W</h4></section></summary><div class="docblock"><p>Finishes writing and returns the output.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.gen_force_bounded_loop_statements" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#946-966">Source</a><h4 class="code-header">fn <a href="#method.gen_force_bounded_loop_statements" class="fn">gen_force_bounded_loop_statements</a>(
    &amp;mut self,
    level: <a class="struct" href="../struct.Level.html" title="struct naga::back::Level">Level</a>,
    context: &amp;<a class="struct" href="writer/struct.StatementContext.html" title="struct naga::back::msl::writer::StatementContext">StatementContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="https://doc.rust-lang.org/1.88.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="struct" href="https://doc.rust-lang.org/1.88.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>)&gt;</h4></section></summary><div class="docblock"><p>Generates statements to be inserted immediately before and at the very
start of the body of each loop, to defeat MSL infinite loop reasoning.
The 0th item of the returned tuple should be inserted immediately prior
to the loop and the 1st item should be inserted at the very start of
the loop body.</p>
<h5 id="what-is-this-trying-to-solve"><a class="doc-anchor" href="#what-is-this-trying-to-solve">§</a>What is this trying to solve?</h5>
<p>In Metal Shading Language, an infinite loop has undefined behavior.
(This rule is inherited from C++14.) This means that, if the MSL
compiler determines that a given loop will never exit, it may assume
that it is never reached. It may thus assume that any conditions
sufficient to cause the loop to be reached must be false. Like many
optimizing compilers, MSL uses this kind of analysis to establish limits
on the range of values variables involved in those conditions might
hold.</p>
<p>For example, suppose the MSL compiler sees the code:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">if </span>(i &gt;= <span class="number">10</span>) {
    <span class="kw">while </span>(<span class="bool-val">true</span>) { }
}</code></pre></div>
<p>It will recognize that the <code>while</code> loop will never terminate, conclude
that it must be unreachable, and thus infer that, if this code is
reached, then <code>i &lt; 10</code> at that point.</p>
<p>Now suppose that, at some point where <code>i</code> has the same value as above,
the compiler sees the code:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">if </span>(i &lt; <span class="number">10</span>) {
    a[i] = <span class="number">1</span>;
}</code></pre></div>
<p>Because the compiler is confident that <code>i &lt; 10</code>, it will make the
assignment to <code>a[i]</code> unconditional, rewriting this code as, simply:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code>a[i] = <span class="number">1</span>;</code></pre></div>
<p>If that <code>if</code> condition was injected by Naga to implement a bounds check,
the MSL compiler’s optimizations could allow out-of-bounds array
accesses to occur.</p>
<p>Naga cannot feasibly anticipate whether the MSL compiler will determine
that a loop is infinite, so an attacker could craft a Naga module
containing an infinite loop protected by conditions that cause the Metal
compiler to remove bounds checks that Naga injected elsewhere in the
function.</p>
<p>This rewrite could occur even if the conditional assignment appears
<em>before</em> the <code>while</code> loop, as long as <code>i &lt; 10</code> by the time the loop is
reached. This would allow the attacker to save the results of
unauthorized reads somewhere accessible before entering the infinite
loop. But even worse, the MSL compiler has been observed to simply
delete the infinite loop entirely, so that even code dominated by the
loop becomes reachable. This would make the attack even more flexible,
since shaders that would appear to never terminate would actually exit
nicely, after having stolen data from elsewhere in the GPU address
space.</p>
<p>To avoid UB, Naga must persuade the MSL compiler that no loop Naga
generates is infinite. One approach would be to add inline assembly to
each loop that is annotated as potentially branching out of the loop,
but which in fact generates no instructions. Unfortunately, inline
assembly is not handled correctly by some Metal device drivers.</p>
<p>A previously used approach was to add the following code to the bottom
of every loop:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">if </span>(volatile bool unpredictable = <span class="bool-val">false</span>; unpredictable)
    <span class="kw">break</span>;</code></pre></div>
<p>Although the <code>if</code> condition will always be false in any real execution,
the <code>volatile</code> qualifier prevents the compiler from assuming this. Thus,
it must assume that the <code>break</code> might be reached, and hence that the
loop is not unbounded. This prevents the range analysis impact described
above. Unfortunately this prevented the compiler from making important,
and safe, optimizations such as loop unrolling and was observed to
significantly hurt performance.</p>
<p>Our current approach declares a counter before every loop and
increments it every iteration, breaking after 2^64 iterations:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code>uint2 loop_bound = uint2(<span class="number">0</span>);
<span class="kw">while </span>(<span class="bool-val">true</span>) {
  <span class="kw">if </span>(metal::all(loop_bound == uint2(<span class="number">4294967295</span>))) { <span class="kw">break</span>; }
  loop_bound += uint2(loop_bound.y == <span class="number">4294967295</span>, <span class="number">1</span>);
}</code></pre></div>
<p>This convinces the compiler that the loop is finite and therefore may
execute, whilst at the same time allowing optimizations such as loop
unrolling. Furthermore the 64-bit counter is large enough it seems
implausible that it would affect the execution of any shader.</p>
<p>This approach is also used by Chromium WebGPU’s Dawn shader compiler:
<a href="https://dawn.googlesource.com/dawn/+/d9e2d1f718678ebee0728b999830576c410cce0a/src/tint/lang/core/ir/transform/prevent_infinite_loops.cc">https://dawn.googlesource.com/dawn/+/d9e2d1f718678ebee0728b999830576c410cce0a/src/tint/lang/core/ir/transform/prevent_infinite_loops.cc</a></p>
</div></details><section id="method.put_call_parameters" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#968-976">Source</a><h4 class="code-header">fn <a href="#method.put_call_parameters" class="fn">put_call_parameters</a>(
    &amp;mut self,
    parameters: impl <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;&gt;,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.put_call_parameters_impl" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#978-996">Source</a><h4 class="code-header">fn <a href="#method.put_call_parameters_impl" class="fn">put_call_parameters_impl</a>&lt;C, E&gt;(
    &amp;mut self,
    parameters: impl <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;&gt;,
    ctx: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.reference.html">&amp;C</a>,
    put_expression: E,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;<div class="where">where
    E: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;mut Self, <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.reference.html">&amp;C</a>, <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;,</div></h4></section><details class="toggle method-toggle" open><summary><section id="method.put_locals" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1003-1049">Source</a><h4 class="code-header">fn <a href="#method.put_locals" class="fn">put_locals</a>(&amp;mut self, context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Writes the local variables of the given function, as well as any extra
out-of-bounds locals that are needed.</p>
<p>The names of the OOB locals are also added to <code>self.names</code> at the same
time.</p>
</div></details><section id="method.put_level_of_detail" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1051-1061">Source</a><h4 class="code-header">fn <a href="#method.put_level_of_detail" class="fn">put_level_of_detail</a>(
    &amp;mut self,
    level: <a class="enum" href="writer/enum.LevelOfDetail.html" title="enum naga::back::msl::writer::LevelOfDetail">LevelOfDetail</a>,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.put_image_query" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1063-1077">Source</a><h4 class="code-header">fn <a href="#method.put_image_query" class="fn">put_image_query</a>(
    &amp;mut self,
    image: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    query: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.str.html">str</a>,
    level: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="writer/enum.LevelOfDetail.html" title="enum naga::back::msl::writer::LevelOfDetail">LevelOfDetail</a>&gt;,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.put_image_size_query" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1079-1143">Source</a><h4 class="code-header">fn <a href="#method.put_image_size_query" class="fn">put_image_size_query</a>(
    &amp;mut self,
    image: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    level: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="writer/enum.LevelOfDetail.html" title="enum naga::back::msl::writer::LevelOfDetail">LevelOfDetail</a>&gt;,
    kind: <a class="enum" href="../../ir/enum.ScalarKind.html" title="enum naga::ir::ScalarKind">ScalarKind</a>,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.put_cast_to_uint_scalar_or_vector" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1145-1169">Source</a><h4 class="code-header">fn <a href="#method.put_cast_to_uint_scalar_or_vector" class="fn">put_cast_to_uint_scalar_or_vector</a>(
    &amp;mut self,
    expr: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.put_image_sample_level" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1171-1205">Source</a><h4 class="code-header">fn <a href="#method.put_image_sample_level" class="fn">put_image_sample_level</a>(
    &amp;mut self,
    image: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    level: <a class="enum" href="../../ir/enum.SampleLevel.html" title="enum naga::ir::SampleLevel">SampleLevel</a>,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.put_image_coordinate_limits" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1207-1216">Source</a><h4 class="code-header">fn <a href="#method.put_image_coordinate_limits" class="fn">put_image_coordinate_limits</a>(
    &amp;mut self,
    image: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    level: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="writer/enum.LevelOfDetail.html" title="enum naga::back::msl::writer::LevelOfDetail">LevelOfDetail</a>&gt;,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.put_restricted_scalar_image_index" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1235-1248">Source</a><h4 class="code-header">fn <a href="#method.put_restricted_scalar_image_index" class="fn">put_restricted_scalar_image_index</a>(
    &amp;mut self,
    image: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    index: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    limit_method: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.str.html">str</a>,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>General function for writing restricted image indexes.</p>
<p>This is used to produce restricted mip levels, array indices, and sample
indices for <a href="../../ir/enum.Expression.html#variant.ImageLoad" title="variant naga::ir::Expression::ImageLoad"><code>ImageLoad</code></a> and <a href="../../ir/enum.Statement.html#variant.ImageStore" title="variant naga::ir::Statement::ImageStore"><code>ImageStore</code></a> accesses under the
<a href="../../proc/index/enum.BoundsCheckPolicy.html#variant.Restrict" title="variant naga::proc::index::BoundsCheckPolicy::Restrict"><code>Restrict</code></a> bounds check policy.</p>
<p>This function writes an expression of the form:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code>
    metal::min(uint(INDEX), IMAGE.LIMIT_METHOD() - <span class="number">1</span>)
</code></pre></div>
</div></details><section id="method.put_restricted_texel_address" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1250-1283">Source</a><h4 class="code-header">fn <a href="#method.put_restricted_texel_address" class="fn">put_restricted_texel_address</a>(
    &amp;mut self,
    image: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    address: &amp;<a class="struct" href="writer/struct.TexelAddress.html" title="struct naga::back::msl::writer::TexelAddress">TexelAddress</a>,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.put_image_access_bounds_check" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1286-1345">Source</a><h4 class="code-header">fn <a href="#method.put_image_access_bounds_check" class="fn">put_image_access_bounds_check</a>(
    &amp;mut self,
    image: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    address: &amp;<a class="struct" href="writer/struct.TexelAddress.html" title="struct naga::back::msl::writer::TexelAddress">TexelAddress</a>,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Write an expression that is true if the given image access is in bounds.</p>
</div></details><section id="method.put_image_load" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1347-1397">Source</a><h4 class="code-header">fn <a href="#method.put_image_load" class="fn">put_image_load</a>(
    &amp;mut self,
    load: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    image: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    address: <a class="struct" href="writer/struct.TexelAddress.html" title="struct naga::back::msl::writer::TexelAddress">TexelAddress</a>,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.put_unchecked_image_load" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1399-1426">Source</a><h4 class="code-header">fn <a href="#method.put_unchecked_image_load" class="fn">put_unchecked_image_load</a>(
    &amp;mut self,
    image: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    address: &amp;<a class="struct" href="writer/struct.TexelAddress.html" title="struct naga::back::msl::writer::TexelAddress">TexelAddress</a>,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.put_image_atomic" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1428-1452">Source</a><h4 class="code-header">fn <a href="#method.put_image_atomic" class="fn">put_image_atomic</a>(
    &amp;mut self,
    level: <a class="struct" href="../struct.Level.html" title="struct naga::back::Level">Level</a>,
    image: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    address: &amp;<a class="struct" href="writer/struct.TexelAddress.html" title="struct naga::back::msl::writer::TexelAddress">TexelAddress</a>,
    fun: <a class="enum" href="../../ir/enum.AtomicFunction.html" title="enum naga::ir::AtomicFunction">AtomicFunction</a>,
    value: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    context: &amp;<a class="struct" href="writer/struct.StatementContext.html" title="struct naga::back::msl::writer::StatementContext">StatementContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.put_image_store" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1454-1476">Source</a><h4 class="code-header">fn <a href="#method.put_image_store" class="fn">put_image_store</a>(
    &amp;mut self,
    level: <a class="struct" href="../struct.Level.html" title="struct naga::back::Level">Level</a>,
    image: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    address: &amp;<a class="struct" href="writer/struct.TexelAddress.html" title="struct naga::back::msl::writer::TexelAddress">TexelAddress</a>,
    value: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    context: &amp;<a class="struct" href="writer/struct.StatementContext.html" title="struct naga::back::msl::writer::StatementContext">StatementContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.put_dynamic_array_max_index" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1488-1545">Source</a><h4 class="code-header">fn <a href="#method.put_dynamic_array_max_index" class="fn">put_dynamic_array_max_index</a>(
    &amp;mut self,
    handle: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="struct" href="../../ir/struct.GlobalVariable.html" title="struct naga::ir::GlobalVariable">GlobalVariable</a>&gt;,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Write the maximum valid index of the dynamically sized array at the end of <code>handle</code>.</p>
<p>The ‘maximum valid index’ is simply one less than the array’s length.</p>
<p>This emits an expression of the form <code>a / b</code>, so the caller must
parenthesize its output if it will be applying operators of higher
precedence.</p>
<p><code>handle</code> must be the handle of a global variable whose final member is a
dynamically sized array.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.put_dot_product" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1551-1574">Source</a><h4 class="code-header">fn <a href="#method.put_dot_product" class="fn">put_dot_product</a>&lt;T: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/marker/trait.Copy.html" title="trait core::marker::Copy">Copy</a>&gt;(
    &amp;mut self,
    arg: T,
    arg1: T,
    size: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.usize.html">usize</a>,
    extractor: impl <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;mut Self, T, <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.usize.html">usize</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Emit code for the arithmetic expression of the dot product.</p>
<p>The argument <code>extractor</code> is a function that accepts a <code>Writer</code>, a vector, and
an index. It writes out the expression for the vector component at that index.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.put_pack4x8" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1577-1626">Source</a><h4 class="code-header">fn <a href="#method.put_pack4x8" class="fn">put_pack4x8</a>(
    &amp;mut self,
    arg: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
    was_signed: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a>,
    clamp_bounds: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(&amp;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.str.html">str</a>, &amp;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.str.html">str</a>)&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Emit code for the WGSL functions <code>pack4x{I, U}8[Clamp]</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.put_isign" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1630-1656">Source</a><h4 class="code-header">fn <a href="#method.put_isign" class="fn">put_isign</a>(
    &amp;mut self,
    arg: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Emit code for the isign expression.</p>
</div></details><section id="method.put_const_expression" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1658-1674">Source</a><h4 class="code-header">fn <a href="#method.put_const_expression" class="fn">put_const_expression</a>(
    &amp;mut self,
    expr_handle: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    mod_info: &amp;<a class="struct" href="../../valid/struct.ModuleInfo.html" title="struct naga::valid::ModuleInfo">ModuleInfo</a>,
    arena: &amp;<a class="struct" href="../../struct.Arena.html" title="struct naga::Arena">Arena</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.put_literal" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1676-1747">Source</a><h4 class="code-header">fn <a href="#method.put_literal" class="fn">put_literal</a>(&amp;mut self, literal: <a class="enum" href="../../ir/enum.Literal.html" title="enum naga::ir::Literal">Literal</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.put_possibly_const_expression" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1750-1847">Source</a><h4 class="code-header">fn <a href="#method.put_possibly_const_expression" class="fn">put_possibly_const_expression</a>&lt;C, I, E&gt;(
    &amp;mut self,
    expr_handle: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    expressions: &amp;<a class="struct" href="../../struct.Arena.html" title="struct naga::Arena">Arena</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    mod_info: &amp;<a class="struct" href="../../valid/struct.ModuleInfo.html" title="struct naga::valid::ModuleInfo">ModuleInfo</a>,
    ctx: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.reference.html">&amp;C</a>,
    get_expr_ty: I,
    put_expression: E,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;<div class="where">where
    I: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.reference.html">&amp;C</a>, <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;) -&gt; &amp;<a class="enum" href="../../proc/enum.TypeResolution.html" title="enum naga::proc::TypeResolution">TypeResolution</a>,
    E: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;mut Self, <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.reference.html">&amp;C</a>, <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;,</div></h4></section><details class="toggle method-toggle" open><summary><section id="method.put_expression" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#1860-2826">Source</a><h4 class="code-header">fn <a href="#method.put_expression" class="fn">put_expression</a>(
    &amp;mut self,
    expr_handle: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
    is_scoped: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Emit code for the expression <code>expr_handle</code>.</p>
<p>The <code>is_scoped</code> argument is true if the surrounding operators have the
precedence of the comma operator, or lower. So, for example:</p>
<ul>
<li>
<p>Pass <code>true</code> for <code>is_scoped</code> when writing function arguments, an
expression statement, an initializer expression, or anything already
wrapped in parenthesis.</p>
</li>
<li>
<p>Pass <code>false</code> if it is an operand of a <code>?:</code> operator, a <code>[]</code>, or really
almost anything else.</p>
</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="method.put_binop" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#2830-2887">Source</a><h4 class="code-header">fn <a href="#method.put_binop" class="fn">put_binop</a>&lt;F&gt;(
    &amp;mut self,
    op: <a class="enum" href="../../ir/enum.BinaryOperator.html" title="enum naga::ir::BinaryOperator">BinaryOperator</a>,
    left: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    right: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
    is_scoped: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a>,
    put_expression: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.reference.html">&amp;F</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;<div class="where">where
    F: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;mut Self, <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;, &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;, <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;,</div></h4></section></summary><div class="docblock"><p>Emits code for a binary operation, using the provided callback to emit
the left and right operands.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.put_wrapped_expression_for_packed_vec3_access" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#2890-2908">Source</a><h4 class="code-header">fn <a href="#method.put_wrapped_expression_for_packed_vec3_access" class="fn">put_wrapped_expression_for_packed_vec3_access</a>&lt;F&gt;(
    &amp;mut self,
    expr_handle: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
    is_scoped: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a>,
    put_expression: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.reference.html">&amp;F</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;<div class="where">where
    F: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;mut Self, <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;, &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;, <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;,</div></h4></section></summary><div class="docblock"><p>Used by expressions like Swizzle and Binary since they need packed_vec3’s to be casted to a vec3</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.put_bitcasted_expression" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#2912-2934">Source</a><h4 class="code-header">fn <a href="#method.put_bitcasted_expression" class="fn">put_bitcasted_expression</a>&lt;F&gt;(
    &amp;mut self,
    cast_to: &amp;<a class="enum" href="../../ir/enum.TypeInner.html" title="enum naga::ir::TypeInner">TypeInner</a>,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
    put_expression: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.reference.html">&amp;F</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;<div class="where">where
    F: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;mut Self, &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;, <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;,</div></h4></section></summary><div class="docblock"><p>Emits code for an expression using the provided callback, wrapping the
result in a bitcast to the type <code>cast_to</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.put_index" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#2937-2950">Source</a><h4 class="code-header">fn <a href="#method.put_index" class="fn">put_index</a>(
    &amp;mut self,
    index: <a class="enum" href="../../proc/index/enum.GuardedIndex.html" title="enum naga::proc::index::GuardedIndex">GuardedIndex</a>,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
    is_scoped: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Write a <code>GuardedIndex</code> as a Metal expression.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.put_bounds_checks" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#2982-3025">Source</a><h4 class="code-header">fn <a href="#method.put_bounds_checks" class="fn">put_bounds_checks</a>(
    &amp;mut self,
    chain: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
    level: <a class="struct" href="../struct.Level.html" title="struct naga::back::Level">Level</a>,
    prefix: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.str.html">str</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Emit an index bounds check condition for <code>chain</code>, if required.</p>
<p><code>chain</code> is a subtree of <code>Access</code> and <code>AccessIndex</code> expressions,
operating either on a pointer to a value, or on a value directly. If we cannot
statically determine that all indexing operations in <code>chain</code> are within
bounds, then write a conditional expression to check them dynamically,
and return true. All accesses in the chain are checked by the generated
expression.</p>
<p>This assumes that the <a href="../../proc/index/enum.BoundsCheckPolicy.html" title="enum naga::proc::index::BoundsCheckPolicy"><code>BoundsCheckPolicy</code></a> for <code>chain</code> is <a href="../../proc/index/enum.BoundsCheckPolicy.html#variant.ReadZeroSkipWrite" title="variant naga::proc::index::BoundsCheckPolicy::ReadZeroSkipWrite"><code>ReadZeroSkipWrite</code></a>.</p>
<p>The text written is of the form:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code>{level}{prefix}uint(i) &lt; <span class="number">4 </span>&amp;&amp; uint(j) &lt; <span class="number">10</span></code></pre></div>
<p>where <code>{level}</code> and <code>{prefix}</code> are the arguments to this function. For <a href="../../ir/enum.Statement.html#variant.Store" title="variant naga::ir::Statement::Store"><code>Store</code></a>
statements, presumably these arguments start an indented <code>if</code> statement; for
<a href="../../ir/enum.Expression.html#variant.Load" title="variant naga::ir::Expression::Load"><code>Load</code></a> expressions, the caller is probably building up a ternary <code>?:</code>
expression. In either case, what is written is not a complete syntactic structure
in its own right, and the caller will have to finish it off if we return <code>true</code>.</p>
<p>If no expression is written, return false.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.put_access_chain" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#3046-3115">Source</a><h4 class="code-header">fn <a href="#method.put_access_chain" class="fn">put_access_chain</a>(
    &amp;mut self,
    chain: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    policy: <a class="enum" href="../../proc/index/enum.BoundsCheckPolicy.html" title="enum naga::proc::index::BoundsCheckPolicy">BoundsCheckPolicy</a>,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Write the access chain <code>chain</code>.</p>
<p><code>chain</code> is a subtree of <a href="../../ir/enum.Expression.html#variant.Access" title="variant naga::ir::Expression::Access"><code>Access</code></a> and <a href="../../ir/enum.Expression.html#variant.AccessIndex" title="variant naga::ir::Expression::AccessIndex"><code>AccessIndex</code></a> expressions,
operating either on a pointer to a value, or on a value directly.</p>
<p>Generate bounds checks code only if <code>policy</code> is <a href="../../proc/index/enum.BoundsCheckPolicy.html#variant.Restrict" title="variant naga::proc::index::BoundsCheckPolicy::Restrict"><code>Restrict</code></a>. The
<a href="../../proc/index/enum.BoundsCheckPolicy.html#variant.ReadZeroSkipWrite" title="variant naga::proc::index::BoundsCheckPolicy::ReadZeroSkipWrite"><code>ReadZeroSkipWrite</code></a> policy requires checks before any accesses take place, so
that must be handled in the caller.</p>
<p>Handle the entire chain, recursing back into <code>put_expression</code> only for index
expressions and the base expression that originates the pointer or composite value
being accessed. This allows <code>put_expression</code> to assume that any <code>Access</code> or
<code>AccessIndex</code> expressions it sees are the top of a chain, so it can emit
<code>ReadZeroSkipWrite</code> checks.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.put_subscripted_access_chain" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#3133-3190">Source</a><h4 class="code-header">fn <a href="#method.put_subscripted_access_chain" class="fn">put_subscripted_access_chain</a>(
    &amp;mut self,
    base: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    base_ty: &amp;<a class="enum" href="../../ir/enum.TypeInner.html" title="enum naga::ir::TypeInner">TypeInner</a>,
    index: <a class="enum" href="../../proc/index/enum.GuardedIndex.html" title="enum naga::proc::index::GuardedIndex">GuardedIndex</a>,
    policy: <a class="enum" href="../../proc/index/enum.BoundsCheckPolicy.html" title="enum naga::proc::index::BoundsCheckPolicy">BoundsCheckPolicy</a>,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Write a <code>[]</code>-style access of <code>base</code> by <code>index</code>.</p>
<p>If <code>policy</code> is <a href="../../proc/index/enum.BoundsCheckPolicy.html#variant.Restrict" title="variant naga::proc::index::BoundsCheckPolicy::Restrict"><code>Restrict</code></a>, then generate code as needed to force all index
values within bounds.</p>
<p>The <code>base_ty</code> argument must be the type we are actually indexing, like <a href="../../ir/enum.TypeInner.html#variant.Array" title="variant naga::ir::TypeInner::Array"><code>Array</code></a> or
<a href="../../ir/enum.TypeInner.html#variant.Vector" title="variant naga::ir::TypeInner::Vector"><code>Vector</code></a>. In other words, it’s <code>base</code>’s type with any surrounding <a href="../../ir/enum.TypeInner.html#variant.Pointer" title="variant naga::ir::TypeInner::Pointer"><code>Pointer</code></a>
removed. Our callers often already have this handy.</p>
<p>This only emits <code>[]</code> expressions; it doesn’t handle struct member accesses or
referencing vector components by name.</p>
</div></details><section id="method.put_load" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#3192-3221">Source</a><h4 class="code-header">fn <a href="#method.put_load" class="fn">put_load</a>(
    &amp;mut self,
    pointer: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
    is_scoped: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.put_unchecked_load" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#3223-3248">Source</a><h4 class="code-header">fn <a href="#method.put_unchecked_load" class="fn">put_unchecked_load</a>(
    &amp;mut self,
    pointer: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    policy: <a class="enum" href="../../proc/index/enum.BoundsCheckPolicy.html" title="enum naga::proc::index::BoundsCheckPolicy">BoundsCheckPolicy</a>,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.put_return_value" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#3250-3330">Source</a><h4 class="code-header">fn <a href="#method.put_return_value" class="fn">put_return_value</a>(
    &amp;mut self,
    level: <a class="struct" href="../struct.Level.html" title="struct naga::back::Level">Level</a>,
    expr_handle: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    result_struct: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.str.html">str</a>&gt;,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.update_expressions_to_bake" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#3336-3434">Source</a><h4 class="code-header">fn <a href="#method.update_expressions_to_bake" class="fn">update_expressions_to_bake</a>(
    &amp;mut self,
    func: &amp;<a class="struct" href="../../ir/struct.Function.html" title="struct naga::ir::Function">Function</a>,
    info: &amp;<a class="struct" href="../../valid/struct.FunctionInfo.html" title="struct naga::valid::FunctionInfo">FunctionInfo</a>,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
)</h4></section></summary><div class="docblock"><p>Helper method used to find which expressions of a given function require baking</p>
<h5 id="notes"><a class="doc-anchor" href="#notes">§</a>Notes</h5>
<p>This function overwrites the contents of <code>self.need_bake_expressions</code></p>
</div></details><section id="method.start_baking_expression" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#3436-3476">Source</a><h4 class="code-header">fn <a href="#method.start_baking_expression" class="fn">start_baking_expression</a>(
    &amp;mut self,
    handle: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    context: &amp;<a class="struct" href="writer/struct.ExpressionContext.html" title="struct naga::back::msl::writer::ExpressionContext">ExpressionContext</a>&lt;'_&gt;,
    name: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.str.html">str</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.put_cache_restricted_level" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#3490-3521">Source</a><h4 class="code-header">fn <a href="#method.put_cache_restricted_level" class="fn">put_cache_restricted_level</a>(
    &amp;mut self,
    load: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    image: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    mip_level: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;&gt;,
    indent: <a class="struct" href="../struct.Level.html" title="struct naga::back::Level">Level</a>,
    context: &amp;<a class="struct" href="writer/struct.StatementContext.html" title="struct naga::back::msl::writer::StatementContext">StatementContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Cache a clamped level of detail value, if necessary.</p>
<p><a href="../../ir/enum.Expression.html#variant.ImageLoad" title="variant naga::ir::Expression::ImageLoad"><code>ImageLoad</code></a> accesses covered by <a href="../../proc/index/enum.BoundsCheckPolicy.html#variant.Restrict" title="variant naga::proc::index::BoundsCheckPolicy::Restrict"><code>BoundsCheckPolicy::Restrict</code></a> use a
properly clamped level of detail value both in the access itself, and
for fetching the size of the requested MIP level, needed to clamp the
coordinates. To avoid recomputing this clamped level of detail, we cache
it in a temporary variable, as part of the <a href="../../ir/enum.Statement.html#variant.Emit" title="variant naga::ir::Statement::Emit"><code>Emit</code></a> statement covering
the <a href="../../ir/enum.Expression.html#variant.ImageLoad" title="variant naga::ir::Expression::ImageLoad"><code>ImageLoad</code></a> expression.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.put_casting_to_packed_chars" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#3528-3553">Source</a><h4 class="code-header">fn <a href="#method.put_casting_to_packed_chars" class="fn">put_casting_to_packed_chars</a>(
    &amp;mut self,
    fun: <a class="enum" href="../../ir/enum.MathFunction.html" title="enum naga::ir::MathFunction">MathFunction</a>,
    arg0: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    arg1: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    indent: <a class="struct" href="../struct.Level.html" title="struct naga::back::Level">Level</a>,
    context: &amp;<a class="struct" href="writer/struct.StatementContext.html" title="struct naga::back::msl::writer::StatementContext">StatementContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Convert the arguments of <code>Dot4{I, U}Packed</code> to <code>packed_(u?)char4</code>.</p>
<p>Caches the results in temporary variables (whose names are derived from
the original variable names). This caching avoids the need to redo the
casting for each vector component when emitting the dot product.</p>
</div></details><section id="method.put_block" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#3555-4218">Source</a><h4 class="code-header">fn <a href="#method.put_block" class="fn">put_block</a>(
    &amp;mut self,
    level: <a class="struct" href="../struct.Level.html" title="struct naga::back::Level">Level</a>,
    statements: &amp;[<a class="enum" href="../../ir/enum.Statement.html" title="enum naga::ir::Statement">Statement</a>],
    context: &amp;<a class="struct" href="writer/struct.StatementContext.html" title="struct naga::back::msl::writer::StatementContext">StatementContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.put_store" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#4220-4239">Source</a><h4 class="code-header">fn <a href="#method.put_store" class="fn">put_store</a>(
    &amp;mut self,
    pointer: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    value: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    level: <a class="struct" href="../struct.Level.html" title="struct naga::back::Level">Level</a>,
    context: &amp;<a class="struct" href="writer/struct.StatementContext.html" title="struct naga::back::msl::writer::StatementContext">StatementContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.put_unchecked_store" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#4241-4272">Source</a><h4 class="code-header">fn <a href="#method.put_unchecked_store" class="fn">put_unchecked_store</a>(
    &amp;mut self,
    pointer: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    value: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    policy: <a class="enum" href="../../proc/index/enum.BoundsCheckPolicy.html" title="enum naga::proc::index::BoundsCheckPolicy">BoundsCheckPolicy</a>,
    level: <a class="struct" href="../struct.Level.html" title="struct naga::back::Level">Level</a>,
    context: &amp;<a class="struct" href="writer/struct.StatementContext.html" title="struct naga::back::msl::writer::StatementContext">StatementContext</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.write" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#4274-4380">Source</a><h4 class="code-header">pub fn <a href="#method.write" class="fn">write</a>(
    &amp;mut self,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    info: &amp;<a class="struct" href="../../valid/struct.ModuleInfo.html" title="struct naga::valid::ModuleInfo">ModuleInfo</a>,
    options: &amp;<a class="struct" href="struct.Options.html" title="struct naga::back::msl::Options">Options</a>,
    pipeline_options: &amp;<a class="struct" href="struct.PipelineOptions.html" title="struct naga::back::msl::PipelineOptions">PipelineOptions</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.TranslationInfo.html" title="struct naga::back::msl::TranslationInfo">TranslationInfo</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.put_default_constructible" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#4394-4403">Source</a><h4 class="code-header">fn <a href="#method.put_default_constructible" class="fn">put_default_constructible</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Write the definition for the <code>DefaultConstructible</code> class.</p>
<p>The <a href="../../proc/index/enum.BoundsCheckPolicy.html#variant.ReadZeroSkipWrite" title="variant naga::proc::index::BoundsCheckPolicy::ReadZeroSkipWrite"><code>ReadZeroSkipWrite</code></a> bounds check policy requires us to be able to
produce ‘zero’ values for any type, including structs, arrays, and so
on. We could do this by emitting default constructor applications, but
that would entail printing the name of the type, which is more trouble
than you’d think. Instead, we just construct this magic C++14 class that
can be converted to any type that can be default constructed, using
template parameter inference to detect which type is needed, so we don’t
have to figure out the name.</p>
</div></details><section id="method.put_ray_query_type" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#4405-4429">Source</a><h4 class="code-header">fn <a href="#method.put_ray_query_type" class="fn">put_ray_query_type</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.write_type_defs" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#4431-4677">Source</a><h4 class="code-header">fn <a href="#method.write_type_defs" class="fn">write_type_defs</a>(&amp;mut self, module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.write_global_constants" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#4680-4702">Source</a><h4 class="code-header">fn <a href="#method.write_global_constants" class="fn">write_global_constants</a>(
    &amp;mut self,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    mod_info: &amp;<a class="struct" href="../../valid/struct.ModuleInfo.html" title="struct naga::valid::ModuleInfo">ModuleInfo</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Writes all named constants</p>
</div></details><section id="method.put_inline_sampler_properties" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#4704-4780">Source</a><h4 class="code-header">fn <a href="#method.put_inline_sampler_properties" class="fn">put_inline_sampler_properties</a>(
    &amp;mut self,
    level: <a class="struct" href="../struct.Level.html" title="struct naga::back::Level">Level</a>,
    sampler: &amp;<a class="struct" href="sampler/struct.InlineSampler.html" title="struct naga::back::msl::sampler::InlineSampler">InlineSampler</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.write_unpacking_function" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#4782-5585">Source</a><h4 class="code-header">fn <a href="#method.write_unpacking_function" class="fn">write_unpacking_function</a>(
    &amp;mut self,
    format: <a class="enum" href="enum.VertexFormat.html" title="enum naga::back::msl::VertexFormat">VertexFormat</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="struct" href="https://doc.rust-lang.org/1.88.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.u32.html">u32</a>, <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.u32.html">u32</a>), <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.write_wrapped_unary_op" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#5587-5645">Source</a><h4 class="code-header">fn <a href="#method.write_wrapped_unary_op" class="fn">write_wrapped_unary_op</a>(
    &amp;mut self,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    func_ctx: &amp;<a class="struct" href="../struct.FunctionCtx.html" title="struct naga::back::FunctionCtx">FunctionCtx</a>&lt;'_&gt;,
    op: <a class="enum" href="../../ir/enum.UnaryOperator.html" title="enum naga::ir::UnaryOperator">UnaryOperator</a>,
    operand: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.write_wrapped_binary_op" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#5647-5807">Source</a><h4 class="code-header">fn <a href="#method.write_wrapped_binary_op" class="fn">write_wrapped_binary_op</a>(
    &amp;mut self,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    func_ctx: &amp;<a class="struct" href="../struct.FunctionCtx.html" title="struct naga::back::FunctionCtx">FunctionCtx</a>&lt;'_&gt;,
    expr: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    op: <a class="enum" href="../../ir/enum.BinaryOperator.html" title="enum naga::ir::BinaryOperator">BinaryOperator</a>,
    left: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    right: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.write_wrapped_math_function" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#5810-5867">Source</a><h4 class="code-header">fn <a href="#method.write_wrapped_math_function" class="fn">write_wrapped_math_function</a>(
    &amp;mut self,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    func_ctx: &amp;<a class="struct" href="../struct.FunctionCtx.html" title="struct naga::back::FunctionCtx">FunctionCtx</a>&lt;'_&gt;,
    fun: <a class="enum" href="../../ir/enum.MathFunction.html" title="enum naga::ir::MathFunction">MathFunction</a>,
    arg: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    _arg1: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;&gt;,
    _arg2: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;&gt;,
    _arg3: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.write_wrapped_cast" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#5869-5945">Source</a><h4 class="code-header">fn <a href="#method.write_wrapped_cast" class="fn">write_wrapped_cast</a>(
    &amp;mut self,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    func_ctx: &amp;<a class="struct" href="../struct.FunctionCtx.html" title="struct naga::back::FunctionCtx">FunctionCtx</a>&lt;'_&gt;,
    expr: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    kind: <a class="enum" href="../../ir/enum.ScalarKind.html" title="enum naga::ir::ScalarKind">ScalarKind</a>,
    convert: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../ir/type.Bytes.html" title="type naga::ir::Bytes">Bytes</a>&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.write_convert_yuv_to_rgb_and_return" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#5954-5996">Source</a><h4 class="code-header">fn <a href="#method.write_convert_yuv_to_rgb_and_return" class="fn">write_convert_yuv_to_rgb_and_return</a>(
    &amp;mut self,
    level: <a class="struct" href="../struct.Level.html" title="struct naga::back::Level">Level</a>,
    y: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.str.html">str</a>,
    uv: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.str.html">str</a>,
    params: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.str.html">str</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Helper function used by <a href="struct.Writer.html#method.write_wrapped_image_load" title="method naga::back::msl::Writer::write_wrapped_image_load"><code>Self::write_wrapped_image_load</code></a> and
<a href="struct.Writer.html#method.write_wrapped_image_sample" title="method naga::back::msl::Writer::write_wrapped_image_sample"><code>Self::write_wrapped_image_sample</code></a> to write the shared YUV to RGB
conversion code for external textures. Expects the preceding code to
declare the Y component as a <code>float</code> variable of name <code>y</code>, the UV
components as a <code>float2</code> variable of name <code>uv</code>, and the external
texture params as a variable of name <code>params</code>. The emitted code will
return the result.</p>
</div></details><section id="method.write_wrapped_image_load" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#5999-6082">Source</a><h4 class="code-header">fn <a href="#method.write_wrapped_image_load" class="fn">write_wrapped_image_load</a>(
    &amp;mut self,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    func_ctx: &amp;<a class="struct" href="../struct.FunctionCtx.html" title="struct naga::back::FunctionCtx">FunctionCtx</a>&lt;'_&gt;,
    image: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    _coordinate: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    _array_index: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;&gt;,
    _sample: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;&gt;,
    _level: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.write_wrapped_image_sample" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#6085-6214">Source</a><h4 class="code-header">fn <a href="#method.write_wrapped_image_sample" class="fn">write_wrapped_image_sample</a>(
    &amp;mut self,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    func_ctx: &amp;<a class="struct" href="../struct.FunctionCtx.html" title="struct naga::back::FunctionCtx">FunctionCtx</a>&lt;'_&gt;,
    image: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    _sampler: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    _gather: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="../../ir/enum.SwizzleComponent.html" title="enum naga::ir::SwizzleComponent">SwizzleComponent</a>&gt;,
    _coordinate: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    _array_index: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;&gt;,
    _offset: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;&gt;,
    _level: <a class="enum" href="../../ir/enum.SampleLevel.html" title="enum naga::ir::SampleLevel">SampleLevel</a>,
    _depth_ref: <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;&gt;,
    clamp_to_edge: <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.write_wrapped_image_query" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#6216-6259">Source</a><h4 class="code-header">fn <a href="#method.write_wrapped_image_query" class="fn">write_wrapped_image_query</a>(
    &amp;mut self,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    func_ctx: &amp;<a class="struct" href="../struct.FunctionCtx.html" title="struct naga::back::FunctionCtx">FunctionCtx</a>&lt;'_&gt;,
    image: <a class="struct" href="../../struct.Handle.html" title="struct naga::Handle">Handle</a>&lt;<a class="enum" href="../../ir/enum.Expression.html" title="enum naga::ir::Expression">Expression</a>&gt;,
    query: <a class="enum" href="../../ir/enum.ImageQuery.html" title="enum naga::ir::ImageQuery">ImageQuery</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.write_wrapped_functions" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#6261-6340">Source</a><h4 class="code-header">pub(super) fn <a href="#method.write_wrapped_functions" class="fn">write_wrapped_functions</a>(
    &amp;mut self,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    func_ctx: &amp;<a class="struct" href="../struct.FunctionCtx.html" title="struct naga::back::FunctionCtx">FunctionCtx</a>&lt;'_&gt;,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.write_functions" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#6343-7571">Source</a><h4 class="code-header">fn <a href="#method.write_functions" class="fn">write_functions</a>(
    &amp;mut self,
    module: &amp;<a class="struct" href="../../ir/struct.Module.html" title="struct naga::ir::Module">Module</a>,
    mod_info: &amp;<a class="struct" href="../../valid/struct.ModuleInfo.html" title="struct naga::valid::ModuleInfo">ModuleInfo</a>,
    options: &amp;<a class="struct" href="struct.Options.html" title="struct naga::back::msl::Options">Options</a>,
    pipeline_options: &amp;<a class="struct" href="struct.PipelineOptions.html" title="struct naga::back::msl::PipelineOptions">PipelineOptions</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.TranslationInfo.html" title="struct naga::back::msl::TranslationInfo">TranslationInfo</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section><section id="method.write_barrier" class="method"><a class="src rightside" href="../../../src/naga/back/msl/writer.rs.html#7573-7607">Source</a><h4 class="code-header">fn <a href="#method.write_barrier" class="fn">write_barrier</a>(&amp;mut self, flags: <a class="struct" href="../../ir/struct.Barrier.html" title="struct naga::ir::Barrier">Barrier</a>, level: <a class="struct" href="../struct.Level.html" title="struct naga::back::Level">Level</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum naga::back::msl::Error">Error</a>&gt;</h4></section></div></details></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-Freeze-for-Writer%3CW%3E" class="impl"><a href="#impl-Freeze-for-Writer%3CW%3E" class="anchor">§</a><h3 class="code-header">impl&lt;W&gt; <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a> for <a class="struct" href="struct.Writer.html" title="struct naga::back::msl::Writer">Writer</a>&lt;W&gt;<div class="where">where
    W: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a>,</div></h3></section><section id="impl-RefUnwindSafe-for-Writer%3CW%3E" class="impl"><a href="#impl-RefUnwindSafe-for-Writer%3CW%3E" class="anchor">§</a><h3 class="code-header">impl&lt;W&gt; <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.Writer.html" title="struct naga::back::msl::Writer">Writer</a>&lt;W&gt;<div class="where">where
    W: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a>,</div></h3></section><section id="impl-Send-for-Writer%3CW%3E" class="impl"><a href="#impl-Send-for-Writer%3CW%3E" class="anchor">§</a><h3 class="code-header">impl&lt;W&gt; <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.Writer.html" title="struct naga::back::msl::Writer">Writer</a>&lt;W&gt;<div class="where">where
    W: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,</div></h3></section><section id="impl-Sync-for-Writer%3CW%3E" class="impl"><a href="#impl-Sync-for-Writer%3CW%3E" class="anchor">§</a><h3 class="code-header">impl&lt;W&gt; <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.Writer.html" title="struct naga::back::msl::Writer">Writer</a>&lt;W&gt;<div class="where">where
    W: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,</div></h3></section><section id="impl-Unpin-for-Writer%3CW%3E" class="impl"><a href="#impl-Unpin-for-Writer%3CW%3E" class="anchor">§</a><h3 class="code-header">impl&lt;W&gt; <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.Writer.html" title="struct naga::back::msl::Writer">Writer</a>&lt;W&gt;<div class="where">where
    W: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,</div></h3></section><section id="impl-UnwindSafe-for-Writer%3CW%3E" class="impl"><a href="#impl-UnwindSafe-for-Writer%3CW%3E" class="anchor">§</a><h3 class="code-header">impl&lt;W&gt; <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.Writer.html" title="struct naga::back::msl::Writer">Writer</a>&lt;W&gt;<div class="where">where
    W: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a>,</div></h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/any.rs.html#138">Source</a><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<div class="where">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.88.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/any.rs.html#139">Source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.88.0/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.88.0/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.88.0/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/borrow.rs.html#209">Source</a><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.88.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/borrow.rs.html#211">Source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.88.0/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.88.0/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/borrow.rs.html#217">Source</a><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.88.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/borrow.rs.html#218">Source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.88.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.88.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/convert/mod.rs.html#767">Source</a><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/convert/mod.rs.html#770">Source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.88.0/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/convert/mod.rs.html#750-752">Source</a><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/convert/mod.rs.html#760">Source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.88.0/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/1.88.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/convert/mod.rs.html#806-808">Source</a><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/convert/mod.rs.html#810">Source</a><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.88.0/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/convert/mod.rs.html#813">Source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.88.0/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.88.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/convert/mod.rs.html#791-793">Source</a><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/convert/mod.rs.html#795">Source</a><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.88.0/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.88.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.88.0/src/core/convert/mod.rs.html#798">Source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.88.0/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.88.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div></section></div></main></body></html>