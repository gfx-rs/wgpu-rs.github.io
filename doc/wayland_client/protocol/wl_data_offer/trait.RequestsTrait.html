<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `RequestsTrait` trait in crate `wayland_client`."><meta name="keywords" content="rust, rustlang, rust-lang, RequestsTrait"><title>wayland_client::protocol::wl_data_offer::RequestsTrait - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings"></script><script src="../../../storage.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../../wayland_client/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><p class="location">Trait RequestsTrait</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#required-methods">Required Methods</a><div class="sidebar-links"><a href="#tymethod.accept">accept</a><a href="#tymethod.destroy">destroy</a><a href="#tymethod.finish">finish</a><a href="#tymethod.receive">receive</a><a href="#tymethod.set_actions">set_actions</a></div><a class="sidebar-title" href="#implementors">Implementors</a></div><p class="location"><a href="../../index.html">wayland_client</a>::<wbr><a href="../index.html">protocol</a>::<wbr><a href="index.html">wl_data_offer</a></p><script>window.sidebarCurrent = {name: "RequestsTrait", ty: "trait", relpath: ""};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../src/wayland_client/home/runner/work/wgpu-rs/wgpu-rs/target/debug/build/wayland-client-76677e8849d8e16d/out/wayland_c_api.rs.html#1" title="goto source code">[src]</a></span><span class="in-band">Trait <a href="../../index.html">wayland_client</a>::<wbr><a href="../index.html">protocol</a>::<wbr><a href="index.html">wl_data_offer</a>::<wbr><a class="trait" href="">RequestsTrait</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class="rust trait">pub trait RequestsTrait {
    pub fn <a href="#tymethod.accept" class="fnname">accept</a>(&amp;self, serial: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, mime_type: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;);
<div class="item-spacer"></div>    pub fn <a href="#tymethod.receive" class="fnname">receive</a>(&amp;self, mime_type: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, fd: <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/type.RawFd.html" title="type std::sys::unix::ext::io::RawFd">RawFd</a>);
<div class="item-spacer"></div>    pub fn <a href="#tymethod.destroy" class="fnname">destroy</a>(&amp;self);
<div class="item-spacer"></div>    pub fn <a href="#tymethod.finish" class="fnname">finish</a>(&amp;self);
<div class="item-spacer"></div>    pub fn <a href="#tymethod.set_actions" class="fnname">set_actions</a>(&amp;self, dnd_actions: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, preferred_action: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>);
}</pre></div><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><h3 id="tymethod.accept" class="method"><code>pub fn <a href="#tymethod.accept" class="fnname">accept</a>(&amp;self, serial: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, mime_type: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;)</code></h3><div class="docblock"><p>accept one of the offered mime types</p>
<p>Indicate that the client can accept the given mime type, or
NULL for not accepted.</p>
<p>For objects of version 2 or older, this request is used by the
client to give feedback whether the client can receive the given
mime type, or NULL if none is accepted; the feedback does not
determine whether the drag-and-drop operation succeeds or not.</p>
<p>For objects of version 3 or newer, this request determines the
final result of the drag-and-drop operation. If the end result
is that no mime types were accepted, the drag-and-drop operation
will be cancelled and the corresponding drag source will receive
wl_data_source.cancelled. Clients may still use this event in
conjunction with wl_data_source.action for feedback.</p>
</div><h3 id="tymethod.receive" class="method"><code>pub fn <a href="#tymethod.receive" class="fnname">receive</a>(&amp;self, mime_type: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, fd: <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/type.RawFd.html" title="type std::sys::unix::ext::io::RawFd">RawFd</a>)</code></h3><div class="docblock"><p>request that the data is transferred</p>
<p>To transfer the offered data, the client issues this request
and indicates the mime type it wants to receive.  The transfer
happens through the passed file descriptor (typically created
with the pipe system call).  The source client writes the data
in the mime type representation requested and then closes the
file descriptor.</p>
<p>The receiving client reads from the read end of the pipe until
EOF and then closes its end, at which point the transfer is
complete.</p>
<p>This request may happen multiple times for different mime types,
both before and after wl_data_device.drop. Drag-and-drop destination
clients may preemptively fetch data or examine it more closely to
determine acceptance.</p>
</div><h3 id="tymethod.destroy" class="method"><code>pub fn <a href="#tymethod.destroy" class="fnname">destroy</a>(&amp;self)</code></h3><div class="docblock"><p>destroy data offer</p>
<p>Destroy the data offer.</p>
<p>This is a destructor, you cannot send requests to this object any longer once this method is called.</p>
</div><h3 id="tymethod.finish" class="method"><code>pub fn <a href="#tymethod.finish" class="fnname">finish</a>(&amp;self)</code></h3><div class="docblock"><p>the offer will no longer be used</p>
<p>Notifies the compositor that the drag destination successfully
finished the drag-and-drop operation.</p>
<p>Upon receiving this request, the compositor will emit
wl_data_source.dnd_finished on the drag source client.</p>
<p>It is a client error to perform other requests than
wl_data_offer.destroy after this one. It is also an error to perform
this request after a NULL mime type has been set in
wl_data_offer.accept or no action was received through
wl_data_offer.action.</p>
<p>Only available since version 3 of the interface.</p>
</div><h3 id="tymethod.set_actions" class="method"><code>pub fn <a href="#tymethod.set_actions" class="fnname">set_actions</a>(&amp;self, dnd_actions: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, preferred_action: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>)</code></h3><div class="docblock"><p>set the available/preferred drag-and-drop actions</p>
<p>Sets the actions that the destination side client supports for
this operation. This request may trigger the emission of
wl_data_source.action and wl_data_offer.action events if the compositor
needs to change the selected action.</p>
<p>This request can be called multiple times throughout the
drag-and-drop operation, typically in response to wl_data_device.enter
or wl_data_device.motion events.</p>
<p>This request determines the final result of the drag-and-drop
operation. If the end result is that no action is accepted,
the drag source will receive wl_drag_source.cancelled.</p>
<p>The dnd_actions argument must contain only values expressed in the
wl_data_device_manager.dnd_actions enum, and the preferred_action
argument must only contain one of those values set, otherwise it
will result in a protocol error.</p>
<p>While managing an &quot;ask&quot; action, the destination drag-and-drop client
may perform further wl_data_offer.receive requests, and is expected
to perform one last wl_data_offer.set_actions request with a preferred
action other than &quot;ask&quot; (and optionally wl_data_offer.accept) before
requesting wl_data_offer.finish, in order to convey the action selected
by the user. If the preferred action is not in the
wl_data_offer.source_actions mask, an error will be raised.</p>
<p>If the &quot;ask&quot; action is dismissed (e.g. user cancellation), the client
is expected to perform wl_data_offer.destroy right away.</p>
<p>This request can only be made on drag-and-drop offers, a protocol error
will be raised otherwise.</p>
<p>Only available since version 3 of the interface.</p>
</div></div><span class="loading-content">Loading content...</span><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><h3 id="impl-RequestsTrait" class="impl"><code class="in-band">impl RequestsTrait for <a class="struct" href="../../../wayland_client/struct.Proxy.html" title="struct wayland_client::Proxy">Proxy</a>&lt;<a class="struct" href="../../../wayland_client/protocol/wl_data_offer/struct.WlDataOffer.html" title="struct wayland_client::protocol::wl_data_offer::WlDataOffer">WlDataOffer</a>&gt;</code><a href="#impl-RequestsTrait" class="anchor"></a><a class="srclink" href="../../../src/wayland_client/home/runner/work/wgpu-rs/wgpu-rs/target/debug/build/wayland-client-76677e8849d8e16d/out/wayland_c_api.rs.html#1" title="goto source code">[src]</a></h3><div class="impl-items"><h4 id="method.accept" class="method hidden"><code>pub fn <a href="#method.accept" class="fnname">accept</a>(&amp;self, serial: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, mime_type: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;)</code><a class="srclink" href="../../../src/wayland_client/home/runner/work/wgpu-rs/wgpu-rs/target/debug/build/wayland-client-76677e8849d8e16d/out/wayland_c_api.rs.html#1" title="goto source code">[src]</a></h4><h4 id="method.receive" class="method hidden"><code>pub fn <a href="#method.receive" class="fnname">receive</a>(&amp;self, mime_type: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>, fd: <a class="type" href="https://doc.rust-lang.org/nightly/std/sys/unix/ext/io/type.RawFd.html" title="type std::sys::unix::ext::io::RawFd">RawFd</a>)</code><a class="srclink" href="../../../src/wayland_client/home/runner/work/wgpu-rs/wgpu-rs/target/debug/build/wayland-client-76677e8849d8e16d/out/wayland_c_api.rs.html#1" title="goto source code">[src]</a></h4><h4 id="method.destroy" class="method hidden"><code>pub fn <a href="#method.destroy" class="fnname">destroy</a>(&amp;self)</code><a class="srclink" href="../../../src/wayland_client/home/runner/work/wgpu-rs/wgpu-rs/target/debug/build/wayland-client-76677e8849d8e16d/out/wayland_c_api.rs.html#1" title="goto source code">[src]</a></h4><h4 id="method.finish" class="method hidden"><code>pub fn <a href="#method.finish" class="fnname">finish</a>(&amp;self)</code><a class="srclink" href="../../../src/wayland_client/home/runner/work/wgpu-rs/wgpu-rs/target/debug/build/wayland-client-76677e8849d8e16d/out/wayland_c_api.rs.html#1" title="goto source code">[src]</a></h4><h4 id="method.set_actions" class="method hidden"><code>pub fn <a href="#method.set_actions" class="fnname">set_actions</a>(&amp;self, dnd_actions: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, preferred_action: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>)</code><a class="srclink" href="../../../src/wayland_client/home/runner/work/wgpu-rs/wgpu-rs/target/debug/build/wayland-client-76677e8849d8e16d/out/wayland_c_api.rs.html#1" title="goto source code">[src]</a></h4></div></div><span class="loading-content">Loading content...</span><script type="text/javascript" src="../../../implementors/wayland_client/protocol/wl_data_offer/trait.RequestsTrait.js" async></script></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../../";window.currentCrate = "wayland_client";</script><script src="../../../main.js"></script><script defer src="../../../search-index.js"></script></body></html>